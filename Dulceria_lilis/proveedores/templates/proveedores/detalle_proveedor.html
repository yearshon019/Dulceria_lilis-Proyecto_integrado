{% extends 'dashboard.html' %}
{% load static %}

{% block title %}Detalle Proveedor{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2 class="fw-bold text-primary mb-4">Detalle del Proveedor: {{ object.razon_social }}</h2>

    <div class="card mb-4 shadow-sm">
        <div class="card-body">
            <p><strong>RUT/NIF:</strong> {{ object.rut_nif }}</p>
            <p><strong>Razón Social:</strong> {{ object.razon_social }}</p>
            <p><strong>Nombre Fantasía:</strong> {{ object.nombre_fantasia }}</p>
            <p><strong>Email:</strong> {{ object.email }}</p>
            <p><strong>Teléfono:</strong> {{ object.telefono }}</p>
            <p><strong>Dirección:</strong> {{ object.direccion }}</p>
            <p><strong>Ciudad:</strong> {{ object.ciudad }}</p>
            <p><strong>País:</strong> {{ object.pais }}</p>
            <p><strong>Condiciones de Pago:</strong> {{ object.condiciones_pago }}</p>
            <p><strong>Moneda:</strong> {{ object.moneda }}</p>
            <p><strong>Contacto Principal:</strong> {{ object.contacto_principal_nombre }} ({{ object.contacto_principal_email }}, {{ object.contacto_principal_telefono }})</p>
            <p><strong>Estado:</strong> {{ object.estado }}</p>
            <p><strong>Observaciones:</strong> {{ object.observaciones }}</p>
        </div>
    </div>

    <h4 class="mb-3">Productos Asociados</h4>
    {% if productos_asociados %}
    <ul class="list-group mb-4">
        {% for prod in productos_asociados %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            {{ prod.producto.nombre }} (SKU: {{ prod.producto.sku }})
            <span class="badge bg-primary rounded-pill">{{ prod.precio }}</span>
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <div class="alert alert-info">No hay productos asociados a este proveedor.</div>
    {% endif %}

    <a href="{% url 'proveedores:editar' object.id %}" class="btn btn-warning">Editar</a>
    <a href="{% url 'proveedores:lista' %}" class="btn btn-secondary">Volver a la lista</a>
</div>
{% endblock %}
